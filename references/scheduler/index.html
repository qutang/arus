<!DOCTYPE html><html class=no-js lang=en> <head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><meta content="ARUS package provides a computational framework to manage and process ubiquitous sensory data for human activity recognition." name=description><link href=https://qutang.github.io/arus/references/scheduler/ rel=canonical><meta content="Qu Tang" name=author><link href=../../assets/images/favicon.png rel="shortcut icon"><meta content="mkdocs-1.1.2, mkdocs-material-5.3.0" name=generator><title>Scheduler - ARUS Python package</title><link href=../../assets/stylesheets/main.6e35a1a6.min.css rel=stylesheet><link href=../../assets/stylesheets/palette.a46bcfb3.min.css rel=stylesheet><meta content name=theme-color><link crossorigin href=https://fonts.gstatic.com rel=preconnect><link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback" rel=stylesheet><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link href=../../assets/css/extra.css rel=stylesheet></head> <body data-md-color-accent=orange data-md-color-primary=white data-md-color-scheme=default dir=ltr> <input autocomplete=off class=md-toggle data-md-toggle=drawer id=__drawer type=checkbox> <input autocomplete=off class=md-toggle data-md-toggle=search id=__search type=checkbox> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a class=md-skip href=#arus.scheduler> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav aria-label=Header class="md-header-nav md-grid"> <a aria-label="ARUS Python package" class="md-header-nav__button md-logo" href=https://qutang.github.io/arus/ title="ARUS Python package"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M16.5 5.5a2 2 0 002-2 2 2 0 00-2-2 2 2 0 00-2 2 2 2 0 002 2m-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3A7.298 7.298 0 0022 13v-2c-1.76.03-3.4-.89-4.3-2.4l-1-1.6c-.36-.6-1-1-1.7-1-.3 0-.5.1-.8.1L9 8.3V13h2V9.6l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4M4 9a1 1 0 01-1-1 1 1 0 011-1h3v2H4m1-4a1 1 0 01-1-1 1 1 0 011-1h5v2H5m-2 8a1 1 0 01-1-1 1 1 0 011-1h4v2H3z"></path></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> ARUS Python package </span> <span class="md-header-nav__topic md-ellipsis"> Scheduler </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input aria-label=Search autocapitalize=off autocomplete=off autocorrect=off class=md-search__input data-md-component=search-query data-md-state=active name=query placeholder=Search spellcheck=false type=text> <label class="md-search__icon md-icon" for=__search> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"></path></svg> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </label> <button aria-label=Clear class="md-search__icon md-icon" data-md-component=search-reset tabindex=-1 type=reset> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a class=md-source href=https://github.com/qutang/arus/ title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 480 512" xmlns=http://www.w3.org/2000/svg><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg> </div> <div class=md-source__repository> qutang/arus </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav aria-label=Tabs class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a class=md-tabs__link href=../..> Home </a> </li> <li class=md-tabs__item> <a href=../../tutorials/overview/ class=md-tabs__link> Use the package </a> </li> <li class=md-tabs__item> <a href=../stream/ class="md-tabs__link md-tabs__link--active"> API reference </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label=Navigation class="md-nav md-nav--primary" data-md-level=0> <label class=md-nav__title for=__drawer> <a aria-label="ARUS Python package" class="md-nav__button md-logo" href=https://qutang.github.io/arus/ title="ARUS Python package"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M16.5 5.5a2 2 0 002-2 2 2 0 00-2-2 2 2 0 00-2 2 2 2 0 002 2m-3.6 13.9l1-4.4 2.1 2v6h2v-7.5l-2.1-2 .6-3A7.298 7.298 0 0022 13v-2c-1.76.03-3.4-.89-4.3-2.4l-1-1.6c-.36-.6-1-1-1.7-1-.3 0-.5.1-.8.1L9 8.3V13h2V9.6l1.8-.7-1.6 8.1-4.9-1-.4 2 7 1.4M4 9a1 1 0 01-1-1 1 1 0 011-1h3v2H4m1-4a1 1 0 01-1-1 1 1 0 011-1h5v2H5m-2 8a1 1 0 01-1-1 1 1 0 011-1h4v2H3z"></path></svg> </a> ARUS Python package </label> <div class=md-nav__source> <a class=md-source href=https://github.com/qutang/arus/ title="Go to repository"> <div class="md-source__icon md-icon"> <svg viewbox="0 0 480 512" xmlns=http://www.w3.org/2000/svg><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg> </div> <div class=md-source__repository> qutang/arus </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-1 id=nav-1 type=checkbox> <label class=md-nav__link for=nav-1> Home <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg> </span> </label> <nav aria-label=Home class=md-nav data-md-level=1> <label class=md-nav__title for=nav-1> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../.. title=Overview> Overview </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../../LICENSE/ title=License> License </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../../CODE_OF_CONDUCT/ title="Code Of Conduct"> Code Of Conduct </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../../changelogs/ title=Changelogs> Changelogs </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 id=nav-2 type=checkbox> <label class=md-nav__link for=nav-2> Use the package <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg> </span> </label> <nav aria-label="Use the package" class=md-nav data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Use the package </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../../tutorials/overview/ title=Overview> Overview </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=nav-3 id=nav-3 type=checkbox> <label class=md-nav__link for=nav-3> API reference <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg> </span> </label> <nav aria-label="API reference" class=md-nav data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> API reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input checked class="md-nav__toggle md-toggle" data-md-toggle=nav-3-1 id=nav-3-1 type=checkbox> <label class=md-nav__link for=nav-3-1> Data Flow <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg> </span> </label> <nav aria-label="Data Flow" class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-1> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Data Flow </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../stream/ title=Stream> Stream </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../generator/ title=Generator> Generator </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../segmentor/ title=Segmentor> Segmentor </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc id=__toc type=checkbox> <label class="md-nav__link md-nav__link--active" for=__toc> Scheduler <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"></path></svg> </span> </label> <a class="md-nav__link md-nav__link--active" href=./ title=Scheduler> Scheduler </a> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler> arus.scheduler </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler> Scheduler </a> <nav aria-label=Scheduler class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.Mode> Mode </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.PrioritizedItem> PrioritizedItem </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.Scheme> Scheme </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.__init__> __init__() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.close> close() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.get_all_remaining_results> get_all_remaining_results() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.get_result> get_result() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.reset> reset() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.shutdown> shutdown() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.submit> submit() </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-2 id=nav-3-2 type=checkbox> <label class=md-nav__link for=nav-3-2> Data Processing <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg> </span> </label> <nav aria-label="Data Processing" class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-2> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Data Processing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../accelerometer/ title=Accelerometer> Accelerometer </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-3 id=nav-3-3 type=checkbox> <label class=md-nav__link for=nav-3-3> Plugins <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg> </span> </label> <nav aria-label=Plugins class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-3> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Plugins </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../metawear/ title=Metawear> Metawear </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../actigraph/ title=Actigraph> Actigraph </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3-4 id=nav-3-4 type=checkbox> <label class=md-nav__link for=nav-3-4> Extensions <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"></path></svg> </span> </label> <nav aria-label=Extensions class=md-nav data-md-level=2> <label class=md-nav__title for=nav-3-4> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Extensions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=../filesys/ title=Filesys> Filesys </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../numpy/ title=Numpy> Numpy </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../pandas/ title=Pandas> Pandas </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../plotting/ title=Plotting> Plotting </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a class=md-nav__link href=../mhealth_format/ title="Mhealth format"> Mhealth format </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../dataset/ title=Dataset> Dataset </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../developer/ title=Developer> Developer </a> </li> <li class=md-nav__item> <a class=md-nav__link href=../moment/ title=Moment> Moment </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav aria-label="Table of contents" class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler> arus.scheduler </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler> Scheduler </a> <nav aria-label=Scheduler class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.Mode> Mode </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.PrioritizedItem> PrioritizedItem </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.Scheme> Scheme </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.__init__> __init__() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.close> close() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.get_all_remaining_results> get_all_remaining_results() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.get_result> get_result() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.reset> reset() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.shutdown> shutdown() </a> </li> <li class=md-nav__item> <a class=md-nav__link href=#arus.scheduler.Scheduler.submit> submit() </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a class="md-content__button md-icon" href=https://github.com/qutang/arus/blob/master/docs/references/scheduler.md title="Edit this page"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"></path></svg> </a> <h1>Scheduler</h1> <p><code>arus.scheduler</code></p> <div class="doc doc-object doc-module"> <h2 class=hidden-toc href=#arus.scheduler id=arus.scheduler style="visibility: hidden; width: 0; height: 0;"> <a class=headerlink href=#arus.scheduler title="Permanent link">¶</a></h2> <div class="doc doc-contents first"> <p>scheduler class that handles the execution order of functions when using multiprocessing.</p> <p>Author: Qu Tang</p> <p>Date: 02/07/2020</p> <p>License: GNU v3</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h2 class="doc doc-heading" id=arus.scheduler.Scheduler> <code>Scheduler</code> <a class=headerlink href=#arus.scheduler.Scheduler title="Permanent link">¶</a></h2> <div class="doc doc-contents"> <p>Scheduler to support different scheduling schemes when running tasks on subprocess workers.</p> <div class="doc doc-children"> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.Mode> <code>Mode</code> <a class=headerlink href=#arus.scheduler.Scheduler.Mode title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>An enumeration.</p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.PrioritizedItem> <code>PrioritizedItem</code> <span class="doc doc-properties"> <small class="doc doc-property doc-property-dataclass"><code>dataclass</code></small> </span> <a class=headerlink href=#arus.scheduler.Scheduler.PrioritizedItem title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>PrioritizedItem(priority: int, item: Any)</p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-class"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.Scheme> <code>Scheme</code> <a class=headerlink href=#arus.scheduler.Scheduler.Scheme title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>An enumeration.</p> <div class="doc doc-children"> </div> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.__init__> <code class="highlight language-python"> __init__<span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mode</span><span class=o>=&lt;</span><span class=n>Mode</span><span class=o>.</span><span class=n>PROCESS</span><span class=p>:</span> <span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>scheme</span><span class=o>=&lt;</span><span class=n>Scheme</span><span class=o>.</span><span class=n>EXECUTION_ORDER</span><span class=p>:</span> <span class=mi>2</span><span class=o>&gt;</span><span class=p>,</span> <span class=n>max_workers</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span> </code> <span class="doc doc-properties"> <small class="doc doc-property doc-property-special"><code>special</code></small> </span> <a class=headerlink href=#arus.scheduler.Scheduler.__init__ title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Create Scheduler instance.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>mode</code></td> <td><code>Scheduler.Mode</code></td> <td> <p>run tasks in process or in thread.</p> </td> <td><code>&lt;Mode.PROCESS: 2&gt;</code></td> </tr> <tr> <td><code>scheme</code></td> <td><code>Scheduler.Scheme</code></td> <td> <p>the scheduling scheme when executing tasks.</p> </td> <td><code>&lt;Scheme.EXECUTION_ORDER: 2&gt;</code></td> </tr> <tr> <td><code>max_workers</code></td> <td><code>int</code></td> <td> <p>the max number of workers.</p> </td> <td><code>None</code></td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>arus\scheduler.py</code></summary> <table class=highlighttable> <tr> <td class=linenos> <div class=linenodiv> <pre><span></span>44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64</pre> </div> </td> <td class=code> <div class=highlight> <pre><span></span><code><span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>mode</span><span class=p>:</span> <span class=s2>"Scheduler.Mode"</span> <span class=o>=</span> <span class=n>Mode</span><span class=o>.</span><span class=n>PROCESS</span><span class=p>,</span> <span class=n>scheme</span><span class=p>:</span> <span class=s2>"Scheduler.Scheme"</span> <span class=o>=</span> <span class=n>Scheme</span><span class=o>.</span><span class=n>EXECUTION_ORDER</span><span class=p>,</span> <span class=n>max_workers</span><span class=p>:</span> <span class=nb>int</span> <span class=o>=</span> <span class=kc>None</span><span class=p>):</span>
    <span class=sd>"""Create Scheduler instance.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        mode: run tasks in process or in thread.</span>
<span class=sd>        scheme: the scheduling scheme when executing tasks.</span>
<span class=sd>        max_workers: the max number of workers.</span>
<span class=sd>    """</span>
    <span class=k>if</span> <span class=n>mode</span> <span class=o>==</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>Mode</span><span class=o>.</span><span class=n>PROCESS</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_executor</span> <span class=o>=</span> <span class=n>loky</span><span class=o>.</span><span class=n>get_reusable_executor</span><span class=p>(</span>
            <span class=n>max_workers</span><span class=o>=</span><span class=n>max_workers</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=mi>10</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_module</span> <span class=o>=</span> <span class=n>loky</span>
    <span class=k>elif</span> <span class=n>mode</span> <span class=o>==</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>Mode</span><span class=o>.</span><span class=n>THREAD</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_executor</span> <span class=o>=</span> <span class=n>futures</span><span class=o>.</span><span class=n>ThreadPoolExecutor</span><span class=p>(</span>
            <span class=n>max_workers</span><span class=o>=</span><span class=n>max_workers</span><span class=p>,</span> <span class=n>thread_name_prefix</span><span class=o>=</span><span class=s1>'default-scheduler'</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_module</span> <span class=o>=</span> <span class=n>futures</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>Queue</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_scheme</span> <span class=o>=</span> <span class=n>scheme</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_close</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_results</span> <span class=o>=</span> <span class=n>queue</span><span class=o>.</span><span class=n>PriorityQueue</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_priority_number</span> <span class=o>=</span> <span class=mi>0</span>
</code></pre> </div> </td> </tr> </table> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.close> <code class="highlight language-python"> close<span class=p>(</span><span class=bp>self</span><span class=p>)</span> </code> <a class=headerlink href=#arus.scheduler.Scheduler.close title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Close a scheduler from accepting new tasks.</p> <details class=quote> <summary>Source code in <code>arus\scheduler.py</code></summary> <table class=highlighttable> <tr> <td class=linenos> <div class=linenodiv> <pre><span></span>78
79
80
81</pre> </div> </td> <td class=code> <div class=highlight> <pre><span></span><code><span class=k>def</span> <span class=nf>close</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=sd>"""Close a scheduler from accepting new tasks.</span>
<span class=sd>    """</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_close</span> <span class=o>=</span> <span class=kc>True</span>
</code></pre> </div> </td> </tr> </table> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.get_all_remaining_results> <code class="highlight language-python"> get_all_remaining_results<span class=p>(</span><span class=bp>self</span><span class=p>)</span> </code> <a class=headerlink href=#arus.scheduler.Scheduler.get_all_remaining_results title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Get all remaining results from the submitted tasks.</p> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>list</code></td> <td> <p>A list of results of the remaining submitted tasks.</p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>arus\scheduler.py</code></summary> <table class=highlighttable> <tr> <td class=linenos> <div class=linenodiv> <pre><span></span>140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160</pre> </div> </td> <td class=code> <div class=highlight> <pre><span></span><code><span class=k>def</span> <span class=nf>get_all_remaining_results</span><span class=p>(</span><span class=bp>self</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>list</span><span class=p>:</span>
    <span class=sd>"""Get all remaining results from the submitted tasks.</span>

<span class=sd>    Returns:</span>
<span class=sd>        A list of results of the remaining submitted tasks.</span>
<span class=sd>    """</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_close</span> <span class=o>=</span> <span class=kc>True</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_module</span><span class=o>.</span><span class=n>wait</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>queue</span><span class=p>)</span>
    <span class=n>results</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_scheme</span> <span class=o>==</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>Scheme</span><span class=o>.</span><span class=n>AFTER_PREVIOUS_DONE</span><span class=p>:</span>
        <span class=k>while</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
            <span class=n>t</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
            <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>item</span><span class=o>.</span><span class=n>result</span><span class=p>())</span>
        <span class=n>t</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
        <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>result</span><span class=p>())</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=k>while</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
            <span class=n>t</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
            <span class=n>results</span><span class=o>.</span><span class=n>append</span><span class=p>(</span><span class=n>t</span><span class=o>.</span><span class=n>item</span><span class=o>.</span><span class=n>result</span><span class=p>())</span>
    <span class=k>return</span> <span class=n>results</span>
</code></pre> </div> </td> </tr> </table> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.get_result> <code class="highlight language-python"> get_result<span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>timeout</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span> </code> <a class=headerlink href=#arus.scheduler.Scheduler.get_result title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Get the next result of the submitted tasks.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>timeout</code></td> <td><code>float</code></td> <td> <p>the time out in seconds to wait for the next results. If it is <code>None</code>, wait in infinite time.</p> </td> <td><code>None</code></td> </tr> </tbody> </table> <p><strong>Exceptions:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Scheduler.ResultNotAvailableError</code></td> <td> <p>Raise when result is not available yet.</p> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>tuple</code></td> <td> <p>The next result of the submitted tasks. It should be a tuple with two items. The first is the computed values and the second is the context dict.</p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>arus\scheduler.py</code></summary> <table class=highlighttable> <tr> <td class=linenos> <div class=linenodiv> <pre><span></span>162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre> </div> </td> <td class=code> <div class=highlight> <pre><span></span><code><span class=k>def</span> <span class=nf>get_result</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>timeout</span><span class=p>:</span> <span class=nb>float</span> <span class=o>=</span> <span class=kc>None</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=nb>tuple</span><span class=p>:</span>
    <span class=sd>"""Get the next result of the submitted tasks.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        timeout: the time out in seconds to wait for the next results. If it is `None`, wait in infinite time.</span>

<span class=sd>    Raises:</span>
<span class=sd>        Scheduler.ResultNotAvailableError: Raise when result is not available yet.</span>

<span class=sd>    Returns:</span>
<span class=sd>        The next result of the submitted tasks. It should be a tuple with two items. The first is the computed values and the second is the context dict.</span>
<span class=sd>    """</span>
    <span class=k>try</span><span class=p>:</span>
        <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_scheme</span> <span class=o>==</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>Scheme</span><span class=o>.</span><span class=n>EXECUTION_ORDER</span><span class=p>:</span>
            <span class=n>task</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>get</span><span class=p>(</span><span class=n>timeout</span><span class=o>=</span><span class=n>timeout</span><span class=p>)</span>
            <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
            <span class=k>return</span> <span class=n>task</span><span class=o>.</span><span class=n>item</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_scheme</span> <span class=o>==</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>Scheme</span><span class=o>.</span><span class=n>SUBMIT_ORDER</span><span class=p>:</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
                <span class=n>first_task</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>queue</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span>
                <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>index</span><span class=p>(</span><span class=n>first_task</span><span class=o>.</span><span class=n>item</span><span class=p>)</span> <span class=o>!=</span> <span class=mi>0</span><span class=p>:</span>
                    <span class=k>raise</span> <span class=n>queue</span><span class=o>.</span><span class=n>Empty</span>
                <span class=k>else</span><span class=p>:</span>
                    <span class=n>first_task</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
                    <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
                    <span class=n>result</span> <span class=o>=</span> <span class=n>first_task</span><span class=o>.</span><span class=n>item</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
                    <span class=k>return</span> <span class=n>result</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>queue</span><span class=o>.</span><span class=n>Empty</span>
        <span class=k>elif</span> <span class=bp>self</span><span class=o>.</span><span class=n>_scheme</span> <span class=o>==</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>Scheme</span><span class=o>.</span><span class=n>AFTER_PREVIOUS_DONE</span><span class=p>:</span>
            <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
                <span class=n>task</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
                <span class=k>return</span> <span class=n>task</span><span class=o>.</span><span class=n>item</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
            <span class=k>elif</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
                <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>get</span><span class=p>()</span><span class=o>.</span><span class=n>result</span><span class=p>()</span>
            <span class=k>else</span><span class=p>:</span>
                <span class=k>raise</span> <span class=n>queue</span><span class=o>.</span><span class=n>Empty</span>
    <span class=k>except</span> <span class=n>queue</span><span class=o>.</span><span class=n>Empty</span><span class=p>:</span>
        <span class=k>raise</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>ResultNotAvailableError</span><span class=p>(</span>
            <span class=s1>'None of the results are available.'</span><span class=p>)</span>
</code></pre> </div> </td> </tr> </table> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.reset> <code class="highlight language-python"> reset<span class=p>(</span><span class=bp>self</span><span class=p>)</span> </code> <a class=headerlink href=#arus.scheduler.Scheduler.reset title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Reset scheduler.</p> <p>Clear results and tasks queue.</p> <details class=quote> <summary>Source code in <code>arus\scheduler.py</code></summary> <table class=highlighttable> <tr> <td class=linenos> <div class=linenodiv> <pre><span></span>66
67
68
69
70
71
72
73
74
75
76</pre> </div> </td> <td class=code> <div class=highlight> <pre><span></span><code><span class=k>def</span> <span class=nf>reset</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=sd>"""Reset scheduler.</span>

<span class=sd>    Clear results and tasks queue.</span>
<span class=sd>    """</span>
    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>mutex</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_results</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
    <span class=k>with</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>mutex</span><span class=p>:</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>queue</span><span class=o>.</span><span class=n>clear</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_close</span> <span class=o>=</span> <span class=kc>False</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_priority_number</span> <span class=o>=</span> <span class=mi>0</span>
</code></pre> </div> </td> </tr> </table> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.shutdown> <code class="highlight language-python"> shutdown<span class=p>(</span><span class=bp>self</span><span class=p>)</span> </code> <a class=headerlink href=#arus.scheduler.Scheduler.shutdown title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Shut down a scheduler.</p> <p>Reset the scheduler and shut down the inner executor.</p> <details class=quote> <summary>Source code in <code>arus\scheduler.py</code></summary> <table class=highlighttable> <tr> <td class=linenos> <div class=linenodiv> <pre><span></span>83
84
85
86
87
88
89</pre> </div> </td> <td class=code> <div class=highlight> <pre><span></span><code><span class=k>def</span> <span class=nf>shutdown</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
    <span class=sd>"""Shut down a scheduler.</span>

<span class=sd>    Reset the scheduler and shut down the inner executor.</span>
<span class=sd>    """</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>reset</span><span class=p>()</span>
    <span class=bp>self</span><span class=o>.</span><span class=n>_executor</span><span class=o>.</span><span class=n>shutdown</span><span class=p>(</span><span class=n>wait</span><span class=o>=</span><span class=kc>True</span><span class=p>)</span>
</code></pre> </div> </td> </tr> </table> </details> </div> </div> <div class="doc doc-object doc-method"> <h3 class="doc doc-heading" id=arus.scheduler.Scheduler.submit> <code class="highlight language-python"> submit<span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span> </code> <a class=headerlink href=#arus.scheduler.Scheduler.submit title="Permanent link">¶</a></h3> <div class="doc doc-contents"> <p>Submit a new task to the scheduler.</p> <p><strong>Parameters:</strong></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr> <td><code>func</code></td> <td><code>object</code></td> <td> <p>the task function to be submitted to the scheduler. It should be picklable. It should return a tuple including two items. The first item is the computed values and the second is the context as a dict to be passed with the computed values.</p> </td> <td><em>required</em></td> </tr> <tr> <td><code>args</code></td> <td><code>object</code></td> <td> <p>the positional arguments passed to <code>func</code>.</p> </td> <td><code>()</code></td> </tr> <tr> <td><code>kwargs</code></td> <td><code>object</code></td> <td> <p>the keyword arguments passed to <code>func</code>.</p> </td> <td><code>{}</code></td> </tr> </tbody> </table> <p><strong>Exceptions:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Scheduler.ClosedError</code></td> <td> <p>Raise when trying to submit task to a closed scheduler.</p> </td> </tr> </tbody> </table> <p><strong>Returns:</strong></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>Future</code></td> <td> <p>A future instance of the pending submitted task.</p> </td> </tr> </tbody> </table> <details class=quote> <summary>Source code in <code>arus\scheduler.py</code></summary> <table class=highlighttable> <tr> <td class=linenos> <div class=linenodiv> <pre><span></span> 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121</pre> </div> </td> <td class=code> <div class=highlight> <pre><span></span><code><span class=k>def</span> <span class=nf>submit</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>func</span><span class=p>:</span> <span class=nb>object</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>:</span> <span class=nb>object</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>:</span> <span class=nb>object</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>futures</span><span class=o>.</span><span class=n>Future</span><span class=p>:</span>
    <span class=sd>"""Submit a new task to the scheduler.</span>

<span class=sd>    Arguments:</span>
<span class=sd>        func: the task function to be submitted to the scheduler. It should be picklable. It should return a tuple including two items. The first item is the computed values and the second is the context as a dict to be passed with the computed values.</span>
<span class=sd>        args: the positional arguments passed to `func`.</span>
<span class=sd>        kwargs: the keyword arguments passed to `func`.</span>

<span class=sd>    Raises:</span>
<span class=sd>        Scheduler.ClosedError: Raise when trying to submit task to a closed scheduler.</span>

<span class=sd>    Returns:</span>
<span class=sd>        A future instance of the pending submitted task.</span>
<span class=sd>    """</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_close</span><span class=p>:</span>
        <span class=n>logger</span><span class=o>.</span><span class=n>warning</span><span class=p>(</span><span class=s1>'Scheduler is closed for new tasks.'</span><span class=p>)</span>
        <span class=k>raise</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>ClosedError</span><span class=p>(</span><span class=s1>'Scheduler is closed for new tasks.'</span><span class=p>)</span>
    <span class=k>if</span> <span class=bp>self</span><span class=o>.</span><span class=n>_scheme</span> <span class=o>==</span> <span class=n>Scheduler</span><span class=o>.</span><span class=n>Scheme</span><span class=o>.</span><span class=n>AFTER_PREVIOUS_DONE</span><span class=p>:</span>
        <span class=k>if</span> <span class=ow>not</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>empty</span><span class=p>():</span>
            <span class=k>try</span><span class=p>:</span>
                <span class=n>prev_task</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>get</span><span class=p>()</span>
                <span class=bp>self</span><span class=o>.</span><span class=n>_add_to_results</span><span class=p>(</span><span class=n>prev_task</span><span class=p>)</span>
            <span class=k>except</span> <span class=n>queue</span><span class=o>.</span><span class=n>Empty</span><span class=p>:</span>
                <span class=k>pass</span>
        <span class=n>task</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>task</span><span class=p>)</span>
    <span class=k>else</span><span class=p>:</span>
        <span class=n>task</span> <span class=o>=</span> <span class=bp>self</span><span class=o>.</span><span class=n>_executor</span><span class=o>.</span><span class=n>submit</span><span class=p>(</span><span class=n>func</span><span class=p>,</span> <span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>
        <span class=bp>self</span><span class=o>.</span><span class=n>_tasks</span><span class=o>.</span><span class=n>put</span><span class=p>(</span><span class=n>task</span><span class=p>)</span>
        <span class=n>task</span><span class=o>.</span><span class=n>add_done_callback</span><span class=p>(</span><span class=bp>self</span><span class=o>.</span><span class=n>_add_to_results</span><span class=p>)</span>
    <span class=k>return</span> <span class=n>task</span>
</code></pre> </div> </td> </tr> </table> </details> </div> </div> </div> </div> </div> </div> </div> </div> <hr> <div class=md-source-date> <small> Last update: March 4, 2020 </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav aria-label=Footer class="md-footer-nav__inner md-grid"> <a class="md-footer-nav__link md-footer-nav__link--prev" href=../segmentor/ rel=prev title=Segmentor> <div class="md-footer-nav__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Segmentor </div> </div> </a> <a class="md-footer-nav__link md-footer-nav__link--next" href=../accelerometer/ rel=next title=Accelerometer> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Accelerometer </div> </div> <div class="md-footer-nav__button md-icon"> <svg viewbox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> 2020 © Qu Tang </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ rel=noopener target=_blank> Material for MkDocs </a> </div> <div class=md-footer-social> <a class=md-footer-social__link href=https://qutang.dev rel=noopener target=_blank title=qutang.dev> <svg viewbox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M256 8C118.941 8 8 118.919 8 256c0 137.059 110.919 248 248 248 48.154 0 95.342-14.14 135.408-40.223 12.005-7.815 14.625-24.288 5.552-35.372l-10.177-12.433c-7.671-9.371-21.179-11.667-31.373-5.129C325.92 429.757 291.314 440 256 440c-101.458 0-184-82.542-184-184S154.542 72 256 72c100.139 0 184 57.619 184 160 0 38.786-21.093 79.742-58.17 83.693-17.349-.454-16.91-12.857-13.476-30.024l23.433-121.11C394.653 149.75 383.308 136 368.225 136h-44.981a13.518 13.518 0 00-13.432 11.993l-.01.092c-14.697-17.901-40.448-21.775-59.971-21.775-74.58 0-137.831 62.234-137.831 151.46 0 65.303 36.785 105.87 96 105.87 26.984 0 57.369-15.637 74.991-38.333 9.522 34.104 40.613 34.103 70.71 34.103C462.609 379.41 504 307.798 504 232 504 95.653 394.023 8 256 8zm-21.68 304.43c-22.249 0-36.07-15.623-36.07-40.771 0-44.993 30.779-72.729 58.63-72.729 22.292 0 35.601 15.241 35.601 40.77 0 45.061-33.875 72.73-58.161 72.73z"></path></svg> </a> <a class=md-footer-social__link href=https://github.com/qutang rel=noopener target=_blank title=github.com> <svg viewbox="0 0 480 512" xmlns=http://www.w3.org/2000/svg><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"></path></svg> </a> <a class=md-footer-social__link href=https://www.linkedin.com/in/qutang rel=noopener target=_blank title=www.linkedin.com> <svg viewbox="0 0 448 512" xmlns=http://www.w3.org/2000/svg><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../assets/javascripts/bundle.a14cc5fd.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["tabs", "instant"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.7a2ea5ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>