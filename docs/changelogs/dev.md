# DEV
## Bug fixes
* set shell to be True when calling subprocess command [9ca6732](https://github.com/qutang/arus/commit/9ca6732)
* args format when calling subprocess command in developer module [4b74da4](https://github.com/qutang/arus/commit/4b74da4)
* test case for get_session_span [81d8637](https://github.com/qutang/arus/commit/81d8637)
* fix outdated commands in test github action [01903f2](https://github.com/qutang/arus/commit/01903f2)
* use scheduler in mhealth writer [fdc07f9](https://github.com/qutang/arus/commit/fdc07f9)
* Wrong format when formatting file timestamp; crash when parse date or get date folder if date folder is separated by dash; [28cfb2b](https://github.com/qutang/arus/commit/28cfb2b)
* Do not time out previous task when using AFTER_PREVIOUS_DONE scheme [4531e42](https://github.com/qutang/arus/commit/4531e42)
* Fix test case for get_date_folders in mhealth module [508ef43](https://github.com/qutang/arus/commit/508ef43)
* replace logging with loguru [945153f](https://github.com/qutang/arus/commit/945153f)
* Use class wrapper for priority queue items because Future is not comparable [99bb47f](https://github.com/qutang/arus/commit/99bb47f)
* Support extrapolate in regularize_sr [baf706d](https://github.com/qutang/arus/commit/baf706d)
* get the timezone offset using input time instead of computer's current time [6653d78](https://github.com/qutang/arus/commit/6653d78)
* Now metawear scanner will terminate after 5 retires or after reaching max number of devices [628ab86](https://github.com/qutang/arus/commit/628ab86)
* Bug in logging to multiple handlers [ceeb9f4](https://github.com/qutang/arus/commit/ceeb9f4)
* Fix arus demo app to be compatible for the latest package refactoring [bedfc85](https://github.com/qutang/arus/commit/bedfc85)
* Expose plotting module in extension module [c693434](https://github.com/qutang/arus/commit/c693434)
* Indexing with wrong column names for new feature set when validating model in arus_demo [00e0662](https://github.com/qutang/arus/commit/00e0662)
* Ensure mhealth file writer always has positive workers for executor [ac4c578](https://github.com/qutang/arus/commit/ac4c578)
* Update moment test case to ignore comparing fractional seconds less than 1 ms [e62a666](https://github.com/qutang/arus/commit/e62a666)
* Specifiically ignore timezone when creating Moment object from string [035a1d2](https://github.com/qutang/arus/commit/035a1d2)
* Resolve import error [68c271d](https://github.com/qutang/arus/commit/68c271d)
* Resolve a deprecated warning [bb825eb](https://github.com/qutang/arus/commit/bb825eb)
* Do not use raise StopIteration in generator functions which will cause issue on unix system [b7e7723](https://github.com/qutang/arus/commit/b7e7723)
* When buffer size is None, return data directly [5c58350](https://github.com/qutang/arus/commit/5c58350)
* Ensure 0.2 second delay in randome data generators [3c70784](https://github.com/qutang/arus/commit/3c70784)
* Set correct st and et column index for annotation streams [fe048d0](https://github.com/qutang/arus/commit/fe048d0)
* Make pipeline compatible with the new Stream API [cec7b04](https://github.com/qutang/arus/commit/cec7b04)
* Set _started to False when stream finishes all incoming data [e0c5b2d](https://github.com/qutang/arus/commit/e0c5b2d)
* Remove the right generated folder when building website [a425827](https://github.com/qutang/arus/commit/a425827)
* Remove environment dependent test case for moment [b052262](https://github.com/qutang/arus/commit/b052262)
* Update experiment code due to the previous bug fix in stream [c0c4cb3](https://github.com/qutang/arus/commit/c0c4cb3)
* Make sure get_iterator loops to yield data until started becomes false [a3cb27f](https://github.com/qutang/arus/commit/a3cb27f)
* Simplify get_iterator using yield, stop generator when stopping stream [a03eaf6](https://github.com/qutang/arus/commit/a03eaf6)
* Assume unix timestamp is UTC when converting to pandas timestamp [467f075](https://github.com/qutang/arus/commit/467f075)
* Make sure tinker is installed in ci [9730ac1](https://github.com/qutang/arus/commit/9730ac1)
* Fix the bug that pipeline in infinit loop when file streams are used [ce22b26](https://github.com/qutang/arus/commit/ce22b26)
* Ignore absolute path when compressing dataset [9baab38](https://github.com/qutang/arus/commit/9baab38)
* Crash bug when training new model using new data from new activities [de5511c](https://github.com/qutang/arus/commit/de5511c)
* Now collecting and training on new data only requires at least one label selected [e6765fb](https://github.com/qutang/arus/commit/e6765fb)
* Crash bug when combining more than three placement feature sets in muss model [d1e6f5a](https://github.com/qutang/arus/commit/d1e6f5a)
* Crash bug when not providing a new PID [72d8056](https://github.com/qutang/arus/commit/72d8056)
* Allow labels to be None by default when generating confusion matrix [232b106](https://github.com/qutang/arus/commit/232b106)
* Return self for pipeline.connect [8f16c31](https://github.com/qutang/arus/commit/8f16c31)
* Return results in the same formats for all muss pipelines [f641687](https://github.com/qutang/arus/commit/f641687)
* Use better images for sensor placements [0851114](https://github.com/qutang/arus/commit/0851114)
* Make sure new collected data is filtered by selected labels; Make sure updated model returns feature names in a list [7e610ea](https://github.com/qutang/arus/commit/7e610ea)
* Add a new dev version to news.md instead of changing the top one when bumping to dev version [529509d](https://github.com/qutang/arus/commit/529509d)
## Features
* Add command to build and develope docs website [0512d4a](https://github.com/qutang/arus/commit/0512d4a)
* Support custom conversion to signaligner files [9db13a8](https://github.com/qutang/arus/commit/9db13a8)
* Support convert to weekly files (any freq) with custom date range [e9ebee3](https://github.com/qutang/arus/commit/e9ebee3)
* Add cli as exposed API [46aeef5](https://github.com/qutang/arus/commit/46aeef5)
* Add command line app "arus" [545164c](https://github.com/qutang/arus/commit/545164c)
* Add function to save raw data as Actigraph csv file [7a5cfa4](https://github.com/qutang/arus/commit/7a5cfa4)
* Add new signaligner plugin to convert mhealth files into format that can be loaded into signaligner pro software [6d1686b](https://github.com/qutang/arus/commit/6d1686b)
* Add more helper functions to mhealth format module [c4ec5d6](https://github.com/qutang/arus/commit/c4ec5d6)
* Add feature module for general feature computation [dae6c55](https://github.com/qutang/arus/commit/dae6c55)
* Implement the new pipeline composite operator class using operators [6072762](https://github.com/qutang/arus/commit/6072762)
* Treat stream as an operator class (composite) [3d540e5](https://github.com/qutang/arus/commit/3d540e5)
* Make sure empty the entire queue when get_result [246bb22](https://github.com/qutang/arus/commit/246bb22)
* Update API [8dd6d7e](https://github.com/qutang/arus/commit/8dd6d7e)
* Implement stream class using operators [cbd76e8](https://github.com/qutang/arus/commit/cbd76e8)
* generate output results until it becomes empty in get_result; do not put data of "wait" into input_buffer; do not put data of "wait" into output_buffer if the result queue becomes empty [084dc03](https://github.com/qutang/arus/commit/084dc03)
* set terminate signal; make sure output is sorted [b8f89af](https://github.com/qutang/arus/commit/b8f89af)
* set terminate signal; make sure output dataframe has correct indices; handle the case when read in chunk is larger than buffer size. [af29b32](https://github.com/qutang/arus/commit/af29b32)
* Update API [c2fd1c6](https://github.com/qutang/arus/commit/c2fd1c6)
* Add processor operator to support async computation on thread or subprocess [fc6313b](https://github.com/qutang/arus/commit/fc6313b)
* Add a result thread to operator class to support async execution of the underlying function [32c0330](https://github.com/qutang/arus/commit/32c0330)
* Add example of using different operators with the operator class [8190103](https://github.com/qutang/arus/commit/8190103)
* Update basic operators to be compatible with the new operator class [5c07df5](https://github.com/qutang/arus/commit/5c07df5)
* Add operator class as fundamental building block for the computational graph/pipeline [4c253ed](https://github.com/qutang/arus/commit/4c253ed)
* Support processing raw mhealth dataset for building neural network [f779a9a](https://github.com/qutang/arus/commit/f779a9a)
* Support round to different unit when getting session start time [70aee61](https://github.com/qutang/arus/commit/70aee61)
* Add functions to preprocess mhealth dataset for NN model training [acf2436](https://github.com/qutang/arus/commit/acf2436)
* regularize_sr supports manual start and end time in case the given data is not from the expected beginning or end [7dbd55c](https://github.com/qutang/arus/commit/7dbd55c)
* Add function to convert time sequence to unix timstamp sequence [11b9525](https://github.com/qutang/arus/commit/11b9525)
* Add extension function to regularize sampling rate using cubic interpolation [95c6cfe](https://github.com/qutang/arus/commit/95c6cfe)
* Add logging to file for arus demo app [c5412f6](https://github.com/qutang/arus/commit/c5412f6)
* Support logging to file for the logging setting [7ca485e](https://github.com/qutang/arus/commit/7ca485e)
* Now developer console can build and run demo apps [dedaf99](https://github.com/qutang/arus/commit/dedaf99)
* Add synchronizer module to sync data from multiple streams. [6f6d40e](https://github.com/qutang/arus/commit/6f6d40e)
* Reset when shut down scheduler. Add test cases for scheduler module. [9fea5c8](https://github.com/qutang/arus/commit/9fea5c8)
* Add scheduler module to provide different schemes for parallel processing tasks [4c31ee8](https://github.com/qutang/arus/commit/4c31ee8)
* add orientation corrections meta info to dataset_dict. Also if meta info is not found, set to None. [39cc100](https://github.com/qutang/arus/commit/39cc100)
* Add function to read in offset_mapping.csv in meta folder and add that to dataset_dict [364b583](https://github.com/qutang/arus/commit/364b583)
* Now mhealth writer returns the output paths if block is True [8c709f7](https://github.com/qutang/arus/commit/8c709f7)
* Add reader and writer to API [2e61557](https://github.com/qutang/arus/commit/2e61557)
* New design reader and writer for mhealth files [18429d1](https://github.com/qutang/arus/commit/18429d1)
* Use c engine when reading actigraph files [2b34d8c](https://github.com/qutang/arus/commit/2b34d8c)
* Add more helper functions to deal with mhealth format [9e5220d](https://github.com/qutang/arus/commit/9e5220d)
* Add filesys module to extensions for file system util functions [7305481](https://github.com/qutang/arus/commit/7305481)
* Update API [df26729](https://github.com/qutang/arus/commit/df26729)
* Add actigraph module to plugins to support actigraph files [d500969](https://github.com/qutang/arus/commit/d500969)
* Better status control and lifecycle management for Stream [aebe4f2](https://github.com/qutang/arus/commit/aebe4f2)
* Check for invalid input argument for segmentor. Make default segmentor return rows one by one. [8a95535](https://github.com/qutang/arus/commit/8a95535)
* Support set reference time for segmentor at start method of stream [bbe29ca](https://github.com/qutang/arus/commit/bbe29ca)
* Import Moment class as top [level API](https://github.com/qutang/arus/commit/level API)
* Add experiment to examine metawear syncing [55f5908](https://github.com/qutang/arus/commit/55f5908)
* Add result plot to rt_muss experiment [0158cac](https://github.com/qutang/arus/commit/0158cac)
* Raise error if metawear generator fails to produce data; Implement stop method for metawear generator; Add more columns for timestamp info in the output [5326d7c](https://github.com/qutang/arus/commit/5326d7c)
* Add stop method to Generator class [069a739](https://github.com/qutang/arus/commit/069a739)
* Redesign moment module to ensure consistent datetime behavior [7e2319c](https://github.com/qutang/arus/commit/7e2319c)
* Create Generator class for metawear device [153f22f](https://github.com/qutang/arus/commit/153f22f)
* Add util function to segment a dataframe by timestamps [bf606ed](https://github.com/qutang/arus/commit/bf606ed)
* Add segmenter class to support different windowing methods [2d537ec](https://github.com/qutang/arus/commit/2d537ec)
* Add Generator class to replace generator functions [6b29e2d](https://github.com/qutang/arus/commit/6b29e2d)
* Add experiment script for RT [MUSS algorithm](https://github.com/qutang/arus/commit/MUSS algorithm)
* Add functions to do fast map and apply on pandas data [a5778b7](https://github.com/qutang/arus/commit/a5778b7)
* Generators now buffer data to make sure the output data size is the same as buffer size except for the last one [43065ae](https://github.com/qutang/arus/commit/43065ae)
* Add moment module for processing date and time related information [9a6d086](https://github.com/qutang/arus/commit/9a6d086)
* Add numpy extension module for basic util functions used on numpy arrays and objects [113be24](https://github.com/qutang/arus/commit/113be24)
* Add module for extension functions to be applied to pandas objects. [1b8426f](https://github.com/qutang/arus/commit/1b8426f)
* Add experiments for rt [muss model and verification of spades lab dataset processing](https://github.com/qutang/arus/commit/muss model and verification of spades lab dataset processing)
* Support parsing annotations when processing mhealth dataset [3132e6a](https://github.com/qutang/arus/commit/3132e6a)
* Simplify load dataset API and add util functions to do dataset manipulation [afebce0](https://github.com/qutang/arus/commit/afebce0)
* Add more util functions for processing data in mhealth format [eaeb006](https://github.com/qutang/arus/commit/eaeb006)
* Add function to parse annotations [8151cd5](https://github.com/qutang/arus/commit/8151cd5)
* Add meta info of class category in dataset_dict [3227927](https://github.com/qutang/arus/commit/3227927)
* Add annotation streams when processing mhealth dataset but currently ignored in the pipeline [a77c9a5](https://github.com/qutang/arus/commit/a77c9a5)
* Add module variable for all possible sensor placements [f7871fe](https://github.com/qutang/arus/commit/f7871fe)
* Use logging to print dict [fb4d068](https://github.com/qutang/arus/commit/fb4d068)
* Add meta information to the output (dataset_dict) of traverse dataset [2fbf98d](https://github.com/qutang/arus/commit/2fbf98d)
* Add functions to manipulate datasets [03bd020](https://github.com/qutang/arus/commit/03bd020)
* Add new muss pipeline to process mhealth dataset [a26e6dc](https://github.com/qutang/arus/commit/a26e6dc)
* Refactor to create a separate mhealth_format module [b581579](https://github.com/qutang/arus/commit/b581579)
* Add pretty print function for dict [b0c8fae](https://github.com/qutang/arus/commit/b0c8fae)
* Add command to compress dataset in developer console [c543b3e](https://github.com/qutang/arus/commit/c543b3e)
* Add option to compress dataset using system tar command [8fe6769](https://github.com/qutang/arus/commit/8fe6769)
* Add console to provide utility commands for developers to replace the old individual scripts [fe45ba2](https://github.com/qutang/arus/commit/fe45ba2)
* Add module for managing package related environment variables [c6be877](https://github.com/qutang/arus/commit/c6be877)
* Add module for sample datasets [62b853b](https://github.com/qutang/arus/commit/62b853b)
* Now can select device addrs for different placements via a dropdown list [749d7dd](https://github.com/qutang/arus/commit/749d7dd)
* Support the additional thigh placement and support select placements for training, validating and testing in arus demo app [bf45d1b](https://github.com/qutang/arus/commit/bf45d1b)
* Support real [time data summary in stream window](https://github.com/qutang/arus/commit/time data summary in stream window)
* Enable set custom pid and enable save and restore application status for different pids [028e4a8](https://github.com/qutang/arus/commit/028e4a8)
* Support different validation strategy in muss model; Also support draw to input figure when plotting confusion matrix [d633d22](https://github.com/qutang/arus/commit/d633d22)
* Also keep the copy of the original placement images [e7858f5](https://github.com/qutang/arus/commit/e7858f5)
* Add functionality to test updated model [1c60562](https://github.com/qutang/arus/commit/1c60562)
* Support validating updated model for arus demo app [36aa4d5](https://github.com/qutang/arus/commit/36aa4d5)
* Support replacement and combination LOSO validation with new plug [in data for muss model](https://github.com/qutang/arus/commit/in data for muss model)
## Refactors
* add app commands to build and run arus apps; discard commands to arus_dev [a02ab16](https://github.com/qutang/arus/commit/a02ab16)
* Use loguru in arus demo app [945d477](https://github.com/qutang/arus/commit/945d477)
* Remove functions related to building old sphinx website [e7beb1c](https://github.com/qutang/arus/commit/e7beb1c)
* use loguru for logging; update actigraph plugin to use latest generator api [77b47a6](https://github.com/qutang/arus/commit/77b47a6)
* Propogate default stop behavior to base operator class [e572613](https://github.com/qutang/arus/commit/e572613)
* Update test codes for segmentor [1675746](https://github.com/qutang/arus/commit/1675746)
* Update operator implementations to be compatible with the latest operator api [9a971de](https://github.com/qutang/arus/commit/9a971de)
* Refactor dataset module, api remains unchanged [5f0829a](https://github.com/qutang/arus/commit/5f0829a)
* Remove broadcaster examples [c955765](https://github.com/qutang/arus/commit/c955765)
* Completely remove the old mhealth module [8787651](https://github.com/qutang/arus/commit/8787651)
* Merge older mhealth path module to new mhealth helper module [bad63bf](https://github.com/qutang/arus/commit/bad63bf)
* Remove old mhealth meta module [32e04d5](https://github.com/qutang/arus/commit/32e04d5)
* Remove the deprecated broadcaster module [2a7c7f5](https://github.com/qutang/arus/commit/2a7c7f5)
* Update other modules to use the new mhealth io functions [d8c8e9a](https://github.com/qutang/arus/commit/d8c8e9a)
* Move accelerometer module to top level API [70dd6c2](https://github.com/qutang/arus/commit/70dd6c2)
* Merge old dsp, date and num modules into extensions module [8368597](https://github.com/qutang/arus/commit/8368597)
* Update examples for actigraph related scripts to use the new actigraph module [74e36d0](https://github.com/qutang/arus/commit/74e36d0)
* Redesign mhealth_format module structure, API remains unchanged [5df0f10](https://github.com/qutang/arus/commit/5df0f10)
* Remove old Stream classes and update examples to use new Stream API [9eb37d9](https://github.com/qutang/arus/commit/9eb37d9)
* Update examples and experiment scripts to be compatible with new Stream API changes [0bba47f](https://github.com/qutang/arus/commit/0bba47f)
* Make pipeline compatible with the new status management for stream [2a08fee](https://github.com/qutang/arus/commit/2a08fee)
* Use new Stream API in dataset module [3fe0b47](https://github.com/qutang/arus/commit/3fe0b47)
* Remove all code dependencies on the old metawear module [58c6dcf](https://github.com/qutang/arus/commit/58c6dcf)
* Use new Stream API in arus demo app and experiment scripts [66c91c4](https://github.com/qutang/arus/commit/66c91c4)
* Check import error [f8f6f52](https://github.com/qutang/arus/commit/f8f6f52)
* Remove unused files [56d2426](https://github.com/qutang/arus/commit/56d2426)
* Use Generator classes to replace all old generator functions [a800d3d](https://github.com/qutang/arus/commit/a800d3d)
* Rename module file name [ad20167](https://github.com/qutang/arus/commit/ad20167)
* Add segmenter and Stream to top level API [fdd8e84](https://github.com/qutang/arus/commit/fdd8e84)
* Simplify Stream class interface, now using generator and segmenter to define a stream flexibly [d4e53d0](https://github.com/qutang/arus/commit/d4e53d0)
* Update test cases to meet the latest api changes [63599c9](https://github.com/qutang/arus/commit/63599c9)
* Change the order of input arguments for transform_class_category [624a6e7](https://github.com/qutang/arus/commit/624a6e7)
* Remove unused files [2610e42](https://github.com/qutang/arus/commit/2610e42)
* Use relative import for developer console [2a9a322](https://github.com/qutang/arus/commit/2a9a322)
* Add extensions module for extension functions of third party libraries [3927c63](https://github.com/qutang/arus/commit/3927c63)
* Remove unused codes [c62d687](https://github.com/qutang/arus/commit/c62d687)
* Make sure top level modules are referable by the imported package [790cf72](https://github.com/qutang/arus/commit/790cf72)
* Remove deprecated codes [1edf57b](https://github.com/qutang/arus/commit/1edf57b)
* Rename pandas module to pandas_ext module [4a08f8d](https://github.com/qutang/arus/commit/4a08f8d)
* Move logging module to developer module [3b0050e](https://github.com/qutang/arus/commit/3b0050e)
* Do not use hard [coded strings for mhealth format related column names or folder names](https://github.com/qutang/arus/commit/coded strings for mhealth format related column names or folder names)
* Remove unnecessary codes [dcbd363](https://github.com/qutang/arus/commit/dcbd363)
* Formatting codes [d4f8dcb](https://github.com/qutang/arus/commit/d4f8dcb)
* Use developer logging setup [f53b07d](https://github.com/qutang/arus/commit/f53b07d)
* Add generator module to encapsulate all functions of data loading [69fc36e](https://github.com/qutang/arus/commit/69fc36e)
* Remove unused imports [238bf9f](https://github.com/qutang/arus/commit/238bf9f)
* Better design pattern for arus demo app [5bd3b20](https://github.com/qutang/arus/commit/5bd3b20)
* Remove unused files in arus demo app [2275266](https://github.com/qutang/arus/commit/2275266)
* Better design pattern for arus demo app [30c083a](https://github.com/qutang/arus/commit/30c083a)
* Better design pattern for arus demo app [77b9353](https://github.com/qutang/arus/commit/77b9353)
* Apply better design pattern to arus demo app [2f66a84](https://github.com/qutang/arus/commit/2f66a84)
## Test cases
* Update test cases for stream and pipeline operators [4fd88d7](https://github.com/qutang/arus/commit/4fd88d7)
* Fix test error on linux [3bd1c5a](https://github.com/qutang/arus/commit/3bd1c5a)
* Update test cases and examples [211cc54](https://github.com/qutang/arus/commit/211cc54)
* Add test cases for new Stream API [e5b959d](https://github.com/qutang/arus/commit/e5b959d)
* Add test cases for segmentors [9fdf861](https://github.com/qutang/arus/commit/9fdf861)
* Replace old mhealth stream example with the new stream interface [1e44d41](https://github.com/qutang/arus/commit/1e44d41)
* Add test cases for extension module [f85b7bc](https://github.com/qutang/arus/commit/f85b7bc)
* Add test cases for generator functions [986ac9b](https://github.com/qutang/arus/commit/986ac9b)
* Add test cases for dataset and mhealth_format module [806f54a](https://github.com/qutang/arus/commit/806f54a)
* Add spades_lab fixture [b2504a1](https://github.com/qutang/arus/commit/b2504a1)
